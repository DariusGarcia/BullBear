{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dariu\\\\OneDrive\\\\Documents\\\\code\\\\bullbear\\\\client\\\\src\\\\Components\\\\FetchStocks.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nrequire('dotenv').config({\n  path: './.env.development.local'\n});\n\nfunction FetchStocks(props) {\n  _s();\n\n  const [ticker, setTicker] = useState([]);\n  const [openPrice, setOpenPrice] = useState([]);\n  const [tickerPrice, setTickerPrice] = useState([]);\n  const [tradingDay, setTradingDay] = useState([]);\n  const [closingPrice, setClosingPrice] = useState([]);\n  const [volume, setVolume] = useState([]);\n  const [dayPercentage, setDayPercentage] = useState([]);\n  useEffect(() => {\n    const options = {\n      method: 'GET',\n      headers: {\n        'X-RapidAPI-Host': 'alpha-vantage.p.rapidapi.com',\n        'X-RapidAPI-Key': process.env.development.locale.REACT_APP_RAPID_API_KEY\n      }\n    };\n    fetch(`https://alpha-vantage.p.rapidapi.com/query?function=GLOBAL_QUOTE&symbol=${props.name}&datatype=json`, options).then(response => response.json()).then(data => {\n      const res = data['Global Quote'];\n      const myRes = Object.values(res);\n      setTicker(myRes[0]);\n      setOpenPrice((myRes[1] / 1).toFixed(2));\n      setTickerPrice((myRes[4] / 1).toFixed(2));\n      setClosingPrice((myRes[7] / 1).toFixed(2));\n      setVolume((myRes[5] / 1).toLocaleString('en', {\n        useGrouping: true\n      }));\n      setTradingDay(myRes[6]); // calculates the % difference between the previous days closing price and the current price\n\n      setDayPercentage(((myRes[4] - myRes[7]) / myRes[7] * 100).toFixed(2));\n      console.log(`${myRes[0]}`);\n      console.log(myRes);\n    }).catch(err => console.error(err)); // console.log(response);\n  }, [props.name]);\n  let info;\n\n  if (ticker) {\n    info = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"info-div\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"second\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"stock-titles-p\",\n          id: \"department\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 6\n        }, this), ' ', /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"stock-info-p\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"card-titles\",\n            children: \"Current price: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 7\n          }, this), \" $\", tickerPrice]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"third\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"stock-titles-p\",\n          id: \"description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 6\n        }, this), ' ', /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"stock-info-p\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"card-titles\",\n            children: \"Open price: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 7\n          }, this), \" $\", openPrice, ' ']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"stock-info-p\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"card-titles\",\n            children: \"Previous closing price: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 7\n          }, this), \" $\", closingPrice, ' ']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"stock-info-p\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"card-titles\",\n            children: \"24 hour change: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 7\n          }, this), dayPercentage, \"%\", ' ']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"stock-info-p\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"card-titles\",\n            children: \"Volume: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 7\n          }, this), volume, ' ']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"stock-info-p\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"card-titles\",\n            children: \"Last trading day: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 7\n          }, this), tradingDay, ' ']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 4\n    }, this);\n  } else if (ticker == null) {\n    info = /*#__PURE__*/_jsxDEV(\"p\", {\n      id: \"class-nf\",\n      children: \"Stock Not Found...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 10\n    }, this);\n  } else {\n    info = /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 10\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"class\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"class-title\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        id: \"ticker-title\",\n        children: [\"$\", ticker]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"class-title\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: info\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 3\n  }, this);\n}\n\n_s(FetchStocks, \"ObbfBL9EcAuNx0BTlcquvOXlpOg=\");\n\n_c = FetchStocks;\nexport default FetchStocks;\n\nvar _c;\n\n$RefreshReg$(_c, \"FetchStocks\");","map":{"version":3,"names":["React","useState","useEffect","require","config","path","FetchStocks","props","ticker","setTicker","openPrice","setOpenPrice","tickerPrice","setTickerPrice","tradingDay","setTradingDay","closingPrice","setClosingPrice","volume","setVolume","dayPercentage","setDayPercentage","options","method","headers","process","env","development","locale","REACT_APP_RAPID_API_KEY","fetch","name","then","response","json","data","res","myRes","Object","values","toFixed","toLocaleString","useGrouping","console","log","catch","err","error","info"],"sources":["C:/Users/dariu/OneDrive/Documents/code/bullbear/client/src/Components/FetchStocks.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nrequire('dotenv').config({ path: './.env.development.local' });\r\nfunction FetchStocks(props) {\r\n\tconst [ticker, setTicker] = useState([]);\r\n\tconst [openPrice, setOpenPrice] = useState([]);\r\n\tconst [tickerPrice, setTickerPrice] = useState([]);\r\n\tconst [tradingDay, setTradingDay] = useState([]);\r\n\tconst [closingPrice, setClosingPrice] = useState([]);\r\n\tconst [volume, setVolume] = useState([]);\r\n\tconst [dayPercentage, setDayPercentage] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst options = {\r\n\t\t\tmethod: 'GET',\r\n\t\t\theaders: {\r\n\t\t\t\t'X-RapidAPI-Host': 'alpha-vantage.p.rapidapi.com',\r\n\t\t\t\t'X-RapidAPI-Key':\r\n\t\t\t\t\tprocess.env.development.locale.REACT_APP_RAPID_API_KEY,\r\n\t\t\t},\r\n\t\t};\r\n\t\tfetch(\r\n\t\t\t`https://alpha-vantage.p.rapidapi.com/query?function=GLOBAL_QUOTE&symbol=${props.name}&datatype=json`,\r\n\t\t\toptions\r\n\t\t)\r\n\t\t\t.then((response) => response.json())\r\n\r\n\t\t\t.then((data) => {\r\n\t\t\t\tconst res = data['Global Quote'];\r\n\t\t\t\tconst myRes = Object.values(res);\r\n\t\t\t\tsetTicker(myRes[0]);\r\n\t\t\t\tsetOpenPrice((myRes[1] / 1).toFixed(2));\r\n\t\t\t\tsetTickerPrice((myRes[4] / 1).toFixed(2));\r\n\t\t\t\tsetClosingPrice((myRes[7] / 1).toFixed(2));\r\n\t\t\t\tsetVolume((myRes[5] / 1).toLocaleString('en', { useGrouping: true }));\r\n\t\t\t\tsetTradingDay(myRes[6]);\r\n\r\n\t\t\t\t// calculates the % difference between the previous days closing price and the current price\r\n\t\t\t\tsetDayPercentage((((myRes[4] - myRes[7]) / myRes[7]) * 100).toFixed(2));\r\n\t\t\t\tconsole.log(`${myRes[0]}`);\r\n\t\t\t\tconsole.log(myRes);\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.error(err));\r\n\t\t// console.log(response);\r\n\t}, [props.name]);\r\n\r\n\tlet info;\r\n\r\n\tif (ticker) {\r\n\t\tinfo = (\r\n\t\t\t<div className='info-div'>\r\n\t\t\t\t<div className='second'>\r\n\t\t\t\t\t<p className='stock-titles-p' id='department'>\r\n\t\t\t\t\t\t{/* Current price: */}\r\n\t\t\t\t\t</p>{' '}\r\n\t\t\t\t\t<p className='stock-info-p'>\r\n\t\t\t\t\t\t<span className='card-titles'>Current price: </span> ${tickerPrice}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='third'>\r\n\t\t\t\t\t<p className='stock-titles-p' id='description'>\r\n\t\t\t\t\t\t{/* Previous closing price: */}\r\n\t\t\t\t\t</p>{' '}\r\n\t\t\t\t\t<p className='stock-info-p'>\r\n\t\t\t\t\t\t<span className='card-titles'>Open price: </span> ${openPrice}{' '}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p className='stock-info-p'>\r\n\t\t\t\t\t\t<span className='card-titles'>Previous closing price: </span> $\r\n\t\t\t\t\t\t{closingPrice}{' '}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p className='stock-info-p'>\r\n\t\t\t\t\t\t<span className='card-titles'>24 hour change: </span>\r\n\t\t\t\t\t\t{dayPercentage}%{' '}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p className='stock-info-p'>\r\n\t\t\t\t\t\t<span className='card-titles'>Volume: </span>\r\n\t\t\t\t\t\t{volume}{' '}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p className='stock-info-p'>\r\n\t\t\t\t\t\t<span className='card-titles'>Last trading day: </span>\r\n\t\t\t\t\t\t{tradingDay}{' '}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t} else if (ticker == null) {\r\n\t\tinfo = <p id='class-nf'>Stock Not Found...</p>;\r\n\t} else {\r\n\t\tinfo = <p>Loading...</p>;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='class'>\r\n\t\t\t<div className='class-title'>\r\n\t\t\t\t<h2 id='ticker-title'>${ticker}</h2>\r\n\t\t\t</div>\r\n\t\t\t<div className='class-title'>\r\n\t\t\t\t<p>{info}</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default FetchStocks;\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;;;AACAC,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB,CAAyB;EAAEC,IAAI,EAAE;AAAR,CAAzB;;AACA,SAASC,WAAT,CAAqBC,KAArB,EAA4B;EAAA;;EAC3B,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBR,QAAQ,CAAC,EAAD,CAApC;EACA,MAAM,CAACS,SAAD,EAAYC,YAAZ,IAA4BV,QAAQ,CAAC,EAAD,CAA1C;EACA,MAAM,CAACW,WAAD,EAAcC,cAAd,IAAgCZ,QAAQ,CAAC,EAAD,CAA9C;EACA,MAAM,CAACa,UAAD,EAAaC,aAAb,IAA8Bd,QAAQ,CAAC,EAAD,CAA5C;EACA,MAAM,CAACe,YAAD,EAAeC,eAAf,IAAkChB,QAAQ,CAAC,EAAD,CAAhD;EACA,MAAM,CAACiB,MAAD,EAASC,SAAT,IAAsBlB,QAAQ,CAAC,EAAD,CAApC;EACA,MAAM,CAACmB,aAAD,EAAgBC,gBAAhB,IAAoCpB,QAAQ,CAAC,EAAD,CAAlD;EAEAC,SAAS,CAAC,MAAM;IACf,MAAMoB,OAAO,GAAG;MACfC,MAAM,EAAE,KADO;MAEfC,OAAO,EAAE;QACR,mBAAmB,8BADX;QAER,kBACCC,OAAO,CAACC,GAAR,CAAYC,WAAZ,CAAwBC,MAAxB,CAA+BC;MAHxB;IAFM,CAAhB;IAQAC,KAAK,CACH,2EAA0EvB,KAAK,CAACwB,IAAK,gBADlF,EAEJT,OAFI,CAAL,CAIEU,IAJF,CAIQC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAJrB,EAMEF,IANF,CAMQG,IAAD,IAAU;MACf,MAAMC,GAAG,GAAGD,IAAI,CAAC,cAAD,CAAhB;MACA,MAAME,KAAK,GAAGC,MAAM,CAACC,MAAP,CAAcH,GAAd,CAAd;MACA3B,SAAS,CAAC4B,KAAK,CAAC,CAAD,CAAN,CAAT;MACA1B,YAAY,CAAC,CAAC0B,KAAK,CAAC,CAAD,CAAL,GAAW,CAAZ,EAAeG,OAAf,CAAuB,CAAvB,CAAD,CAAZ;MACA3B,cAAc,CAAC,CAACwB,KAAK,CAAC,CAAD,CAAL,GAAW,CAAZ,EAAeG,OAAf,CAAuB,CAAvB,CAAD,CAAd;MACAvB,eAAe,CAAC,CAACoB,KAAK,CAAC,CAAD,CAAL,GAAW,CAAZ,EAAeG,OAAf,CAAuB,CAAvB,CAAD,CAAf;MACArB,SAAS,CAAC,CAACkB,KAAK,CAAC,CAAD,CAAL,GAAW,CAAZ,EAAeI,cAAf,CAA8B,IAA9B,EAAoC;QAAEC,WAAW,EAAE;MAAf,CAApC,CAAD,CAAT;MACA3B,aAAa,CAACsB,KAAK,CAAC,CAAD,CAAN,CAAb,CARe,CAUf;;MACAhB,gBAAgB,CAAC,CAAE,CAACgB,KAAK,CAAC,CAAD,CAAL,GAAWA,KAAK,CAAC,CAAD,CAAjB,IAAwBA,KAAK,CAAC,CAAD,CAA9B,GAAqC,GAAtC,EAA2CG,OAA3C,CAAmD,CAAnD,CAAD,CAAhB;MACAG,OAAO,CAACC,GAAR,CAAa,GAAEP,KAAK,CAAC,CAAD,CAAI,EAAxB;MACAM,OAAO,CAACC,GAAR,CAAYP,KAAZ;IACA,CApBF,EAqBEQ,KArBF,CAqBSC,GAAD,IAASH,OAAO,CAACI,KAAR,CAAcD,GAAd,CArBjB,EATe,CA+Bf;EACA,CAhCQ,EAgCN,CAACvC,KAAK,CAACwB,IAAP,CAhCM,CAAT;EAkCA,IAAIiB,IAAJ;;EAEA,IAAIxC,MAAJ,EAAY;IACXwC,IAAI,gBACH;MAAK,SAAS,EAAC,UAAf;MAAA,wBACC;QAAK,SAAS,EAAC,QAAf;QAAA,wBACC;UAAG,SAAS,EAAC,gBAAb;UAA8B,EAAE,EAAC;QAAjC;UAAA;UAAA;UAAA;QAAA,QADD,EAGM,GAHN,eAIC;UAAG,SAAS,EAAC,cAAb;UAAA,wBACC;YAAM,SAAS,EAAC,aAAhB;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QADD,QACwDpC,WADxD;QAAA;UAAA;UAAA;UAAA;QAAA,QAJD;MAAA;QAAA;QAAA;QAAA;MAAA,QADD,eASC;QAAK,SAAS,EAAC,OAAf;QAAA,wBACC;UAAG,SAAS,EAAC,gBAAb;UAA8B,EAAE,EAAC;QAAjC;UAAA;UAAA;UAAA;QAAA,QADD,EAGM,GAHN,eAIC;UAAG,SAAS,EAAC,cAAb;UAAA,wBACC;YAAM,SAAS,EAAC,aAAhB;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QADD,QACqDF,SADrD,EACgE,GADhE;QAAA;UAAA;UAAA;UAAA;QAAA,QAJD,eAOC;UAAG,SAAS,EAAC,cAAb;UAAA,wBACC;YAAM,SAAS,EAAC,aAAhB;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QADD,QAEEM,YAFF,EAEgB,GAFhB;QAAA;UAAA;UAAA;UAAA;QAAA,QAPD,eAWC;UAAG,SAAS,EAAC,cAAb;UAAA,wBACC;YAAM,SAAS,EAAC,aAAhB;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QADD,EAEEI,aAFF,OAEkB,GAFlB;QAAA;UAAA;UAAA;UAAA;QAAA,QAXD,eAeC;UAAG,SAAS,EAAC,cAAb;UAAA,wBACC;YAAM,SAAS,EAAC,aAAhB;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QADD,EAEEF,MAFF,EAEU,GAFV;QAAA;UAAA;UAAA;UAAA;QAAA,QAfD,eAmBC;UAAG,SAAS,EAAC,cAAb;UAAA,wBACC;YAAM,SAAS,EAAC,aAAhB;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QADD,EAEEJ,UAFF,EAEc,GAFd;QAAA;UAAA;UAAA;UAAA;QAAA,QAnBD;MAAA;QAAA;QAAA;QAAA;MAAA,QATD;IAAA;MAAA;MAAA;MAAA;IAAA,QADD;EAoCA,CArCD,MAqCO,IAAIN,MAAM,IAAI,IAAd,EAAoB;IAC1BwC,IAAI,gBAAG;MAAG,EAAE,EAAC,UAAN;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAP;EACA,CAFM,MAEA;IACNA,IAAI,gBAAG;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAP;EACA;;EAED,oBACC;IAAK,SAAS,EAAC,OAAf;IAAA,wBACC;MAAK,SAAS,EAAC,aAAf;MAAA,uBACC;QAAI,EAAE,EAAC,cAAP;QAAA,gBAAwBxC,MAAxB;MAAA;QAAA;QAAA;QAAA;MAAA;IADD;MAAA;MAAA;MAAA;IAAA,QADD,eAIC;MAAK,SAAS,EAAC,aAAf;MAAA,uBACC;QAAA,UAAIwC;MAAJ;QAAA;QAAA;QAAA;MAAA;IADD;MAAA;MAAA;MAAA;IAAA,QAJD;EAAA;IAAA;IAAA;IAAA;EAAA,QADD;AAUA;;GAlGQ1C,W;;KAAAA,W;AAoGT,eAAeA,WAAf"},"metadata":{},"sourceType":"module"}